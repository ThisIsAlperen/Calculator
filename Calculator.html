
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Document</title>

    <style>
        * {
            box-sizing: border-box;
        }

        input {
            display: block;
            margin: 0 10px;
            padding: 5px;
            border: 1px solid silver;
            text-align: right;


        }

        input:focus {
            outline: 0;
        }

        a {
            display: block;
            text-align: center;
            border: .5px solid rgb(66, 66, 66, 0.5);
            padding: 10px 0;
            text-decoration: none !important;
            font-size: 20px;
            line-height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: .3s;

        }

        .col-4 a:hover {
            background-color: #e4e4e4;
            color: rgb(66, 66, 66, );
        }

        .col-3 a:hover {
            background-color: rgba(192, 192, 192, 0.6);
            color: rgb(66, 66, 66, 0.7);
        }

        .col-3,
        .col-4 {
            padding: 0 6px;
            margin-top: 12px;
        }

        #equal {
            display: flex;
            flex-direction: column;
            flex: 1;
            justify-content: center;
        }

        .col-3 a {
            background-color: silver;
            color: rgb(66, 66, 66);

        }

        .col-4 a {
            background-color: #e8e8e897;
            color: rgb(66, 66, 66, 0.7);
        }
    </style>

</head>

<body>


    <div class="container">
        <div class="card " style="width: 400px; margin-top: 40px;">
            <div class="card-body">
                <div class="row">
                    <input id="ekran" class="w-100 " type="text" placeholder="">
                </div>
                <div class="row">
                    <div id="plus" class="col-3">
                        <a href="">+</a>
                    </div>
                    <div id="minus" class="col-3">
                        <a href="">-</a>
                    </div>
                    <div id="times" class="col-3">
                        <a href="">x</a>
                    </div>
                    <div id="divid" class="col-3">
                        <a href="">/</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-9">
                        <div class="row">
                            <div class="col-4">
                                <a href="">1</a>
                            </div>
                            <div class="col-4">
                                <a href="">2</a>
                            </div>
                            <div class="col-4">
                                <a href="">3</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <a href="">4</a>
                            </div>
                            <div class="col-4">
                                <a href="">5</a>
                            </div>
                            <div class="col-4">
                                <a href="">6</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <a href="">7</a>
                            </div>
                            <div class="col-4">
                                <a href="">8</a>
                            </div>
                            <div class="col-4">
                                <a href="">9</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <a href="">0</a>
                            </div>
                            <div class="col-4">
                                <a href="">.</a>
                            </div>
                            <div id="clear" class="col-4">
                                <a href="">C</a>
                            </div>
                        </div>
                    </div>
                    <div id="equal" class="col-3  ">
                        <a class="h-100" href="">=</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var x;
        var first;
        var items = [];

        //Zero
        function zero() {
            console.log($('input').val())
            if ($('input').val() == 0) {
                first = undefined;
                x = '';
            }

        }


        // Plus
        $('#plus').click(function (e) {
            x = ' + ';
            input()
            e.preventDefault()
        });

        // Minus
        $('#minus').click(function (e) {
            x = ' - ';
            input()
            e.preventDefault()
        });

        // Multiple
        $('#times').click(function (e) {
            x = ' x ';
            input()
            e.preventDefault()
        });

        //Divied
        $('#divid').click(function (e) {
            x = ' / ';
            input()
            e.preventDefault()
        });

        //Equal

        $('#equal').click(function (e) {
            x = $('input').val()
            calculate()
            e.preventDefault()
        });


        $('input').keypress(function (e) {
            if (e.keyCode > 47 && e.keyCode < 58 || e.keyCode == 46) {
                first = $('input').val()
                x = e.key
                input()
            } else if (e.keyCode == 45 || e.keyCode == 43 || e.keyCode == 120 || e.keyCode == 42 || e.keyCode == 47) {

                first = $('input').val()
                x = ' ' + e.key + ' '

                input()
            } else if (e.keyCode == 13) {
                console.log(x)
                calculate()
            } else {
                alert('Wrong Input')
            }

            e.preventDefault()

        });


        function input() {
            first = $('input').val()
            if (first != undefined) {
                x = first + x;
            }
            $('input').val(x)
            first = x;
        }

        $('.col-4 a').click(function (e) {

            if (this.textContent != 'C') {
                x = this.textContent
                input()
            }

            e.preventDefault()

        });
        $('#clear').click(function (e) {
            x = ''
            $('input').val('')
            input()
            e.preventDefault()

        });

        function calculate() {
            x = x.split(' ')
            let i = x.length - 1;
            
            if (x[0] == '') {
            
                alert('Wrong Input')
            } else if (x[i] == '') {
               
                alert('Wrong Input')
            }else{
          
                let i = 0;
                for(i;i<x.length;i++){
                    if(x[i] == 'x'||x[i] == '/'||x[i] == '*'){
                        if(x[i] == 'x'||x[i] == '*'){
                            x[i] = Number(x[i-1])*Number(x[i+1])
                            x.splice(i-1,3,x[i])
                            i--
                        }
                        if(x[i] == '/'){
                            x[i] = Number(x[i-1])/Number(x[i+1])
                            x.splice(i-1,3,x[i])
                            i--
                        }
                    }
                }
                i=0;
                console.log(x)
                for(i;i<x.length;i++){
                    if(x[i] == '+'||x[i] == '-'){
                        if(x[i] == '+'){
                            x[i] = Number(x[i-1])+Number(x[i+1])
                            x.splice(i-1,3,x[i])
                            i--
                        }
                        if(x[i] == '-'){
                            x[i] = Number(x[i-1])-Number(x[i+1])
                            x.splice(i-1,3,x[i])
                            i--
                        }
                    }
                }
            }
            console.log(x)
            $('input').val('')
            input()

        }

    </script>


    <script>
        var x;
        // $('.col-4 a').click(function (e) {

        //     x = this.textContent
        //     console.log(x)
        //     e.preventDefault()

        // });
        // $('#minus').click(function(){

        //     e.preventDefault()
        // })

        x = ('321+23 + 43 x 2 - 23 / 67 + 32 - 374');

        // x = x.split(' ')

        // for (let i = 0; i < x.length; i++) {

        //     if (x[i] == 'x') {
        //         console.log(x[i])
        //         console.log(Number(x[i - 1]))
        //         x[i] = Number(x[i - 1]) * Number(x[i + 1])
        //         x.splice(i - 1, 1)
        //         x.splice(i, 1)
        //     }
        // }
        // for (let i = 0; i < x.length; i++) {
        //     if (x[i] == '/') {
        //         console.log(x[i])
        //         console.log(Number(x[i - 1]))
        //         x[i] = Number(x[i - 1]) / Number(x[i + 1])
        //         x.splice(i - 1, 1)
        //         x.splice(i, 1)
        //     }
        // }
        // for (let i = 0; i < x.length; i++) {
        //     if (x[i] == '-') {
        //         console.log(x[i])
        //         console.log(Number(x[i - 1]))
        //         x[i] = Number(x[i - 1]) / Number(x[i + 1])
        //         x.splice(i - 1, 1)
        //         x.splice(i, 1)
        //     }
        // }
        // for (let i = 0; i < x.length; i++) {
        //     if (x[i] == '+') {
        //         console.log(x[i])
        //         console.log(Number(x[i - 1]))
        //         x[i] = Number(x[i - 1]) / Number(x[i + 1])
        //         x.splice(i - 1, 1)
        //         x.splice(i, 1)
        //     }
        // }

    //     function plus() {
    //         if (x.includes('+')) {
    //             x = x.split('+')
    //         } else {
    //             for (i = 0; i < x.length; i++) {
    //                 let j = 0
    //                 if (x[i].includes('+')) {
    //                     let y = x[i].split('+')
    //                     let j = y.length - 1;

    //                     x.splice(i, 1)
    //                     for (j; j > -1; j--) {
    //                         x.splice(i, 0, y[j]);
    //                     }
    //                 }


    //             }
    //         }
    //     }
    //     console.log(x)
    //     function minus() {
    //         if (x.includes('-')) {
    //             x = x.split('-')
    //         } else {
    //             for (i = 0; i < x.length; i++) {
    //                 let j = 0
    //                 if (x[i].includes('-')) {
    //                     let y = x[i].split('-')
    //                     let j = y.length - 1;

    //                     x.splice(i, 1)
    //                     for (j; j > -1; j--) {
    //                         x.splice(i, 0, y[j]);
    //                     }
    //                 }
    //             }
    //         }
    //     }
    //     console.log(x)
    //     function divid() {
    //         if (x.includes('/')) {
    //             x = x.split('/')
    //         } else {
    //             for (i = 0; i < x.length; i++) {
    //                 let j = 0
    //                 if (x[i].includes('/')) {
    //                     let y = x[i].split('/')
    //                     let j = y.length - 1;
    //                     x.splice(i, 1)
    //                     let a = 0
    //                     for (j; j > -1; j--) {
    //                         if (a != 0) {
    //                             a = a / y[j]

    //                         }

    //                         let b = (`${a}`)
    //                         a = y[j]

    //                         x.splice(i, 0, y[j]);

    //                     }

    //                 }
    //             }
    //         }
    //     }
    //     console.log(x)
    //     function times() {
    //         if (x.includes('x' || '*')) {
    //             x = x.split('x' || '*')
    //         } else {
    //             for (i = 0; i < x.length; i++) {
    //                 let j = 0
    //                 if (x[i].includes('x' || '*')) {
    //                     let y = x[i].split('x' || '*')
    //                     let j = y.length - 1;
    //                     x.splice(i, 1)
    //                     console.log(x)
    //                     let a = 1;
    //                     for (j; j > -1; j--) {
    //                         a = a * y[j]
    //                         console.log(y[j])
    //                         x.splice(i, 0, y[j]);
    //                     }
    //                 }
    //             }
    //         }
    //     }

    //     console.log(x)

    </script>

    <script>
    // x = ('321+23 + 43 x 2 - 23/67 + 32 - 374');
    // x = x.split('')


    // let a = 0;
    // for(let i = 0; i<x.length;i++){

    //     let y;

    //     if(x[i] === '*'|| x[i] ==='x'|| x[i] === '/'|| x[i] ==='-'|| x[i] ==='+'){
    //        while(i-a>0){
    //             x[a]

    //             a++
    //        }
    //        a=i+1;
    //     }

    // }




    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>